set(LIBNAME "coffeePIAACMCsimul")
set(SRCNAME "PIAACMCsimul")

project(lib_${LIBNAME}_project)

include_directories ("${PROJECT_SOURCE_DIR}/src")
include_directories ("${PROJECT_SOURCE_DIR}/..")


add_library(${LIBNAME} SHARED ${SRCNAME}.c 
PIAACMCsimul.c 
PIAACMCsimul.h 
PIAACMC_f_evalmask.c 
PIAACMCsimul_exec_multizone_fpm_calib.c 
PIAACMCsimul_loadsavepiaacmcconf.c 
PIAACMC_FPM_process.c 
PIAACMCsimul_exec_optimize_fpmtransmission.c 
PIAACMCsimul_makePIAAshapes.c 
PIAACMC_FPMresp_resample.c 
PIAACMCsimul_exec_optimize_fpm_zones.c 
PIAACMCsimul_measure_transm_curve.c 
PIAACMC_FPMresp_rmzones.c 
PIAACMCsimul_exec_optimize_lyot_stop_position.c 
PIAACMCsimul_mkFocalPlaneMask.c 
PIAACMCsimul_achromFPMsol_eval.c  PIAACMCsimul_exec_optimize_lyot_stops_shapes_positions.c  PIAACMCsimul_mkFPM_zonemap.c 
PIAACMCsimul_achromFPMsol_eval_zonezderivative.c  PIAACMCsimul_exec_optimize_PIAA_shapes.c 
PIAACMCsimul_mkLyotMask.c PIAACMCsimul.c PIAACMCsimul_exec_optimize_PIAA_shapes_fpmtransm.c PIAACMCsimul_mkPIAAMshapes_from_RadSag.c 
PIAACMCsimul_CA2propCubeInt.c 
PIAACMCsimul_free.c 
PIAACMCsimul_mkSimpleLyotStop.c 
PIAACMCsimul_computePSF.c 
PIAACMCsimul_geomProp.c 
PIAACMCsimul_optimizeLyotStop.c 
PIAACMCsimul_eval_poly_design.c 
PIAACMCsimul_init.c PIAACMCsimul_rings2sectors.c 
PIAACMCsimul_exec.c PIAACMCsimul_init_geomPIAA_rad.c 
PIAACMCsimul_run.c PIAACMCsimul_exec_compute_image.c PIAACMCsimul_initpiaacmcconf.c 
PIAACMCsimul_exec_computePSF_no_fpm.c 
PIAACMCsimul_load2DRadialApodization.c )

install(TARGETS ${LIBNAME} DESTINATION lib)

install(PROGRAMS
	scripts/coffee-optloop
	scripts/coffee-run
	scripts/coffee-runclean
	scripts/coffee-runopt
	scripts/coffee-runPIAACMC
	scripts/coffee-runPIAACMCdesign
	scripts/coffee-setconf
	scripts/coffee-sim
	scripts/coffee-waitforfile1
	DESTINATION bin)


install(FILES ${SRCNAME}.h DESTINATION include/${SRCNAME})



